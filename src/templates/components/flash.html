<div id="messages" class="flash-container">
  <div class="flash hidden"></div>
  <script>
    htmx.on('alerts', (event) => {
      // console.log(event.detail.value[0]);
      const msg = event.detail.value[0].alert;
      const messageElement = document.querySelector('#messages');
      const flash = messageElement.querySelector('.flash');
      flash.innerHTML = `<p>${msg}</p>`;
      flash.classList.add(event.detail.value[0].category);
      flash.classList.remove('hidden');
      setTimeout(() => {
        flash.classList.add('hidden');
        setTimeout(() => {
          flash.classList.remove(event.detail.value[0].category);
          flash.innerHTML = '';
        }, 2000);
      }, 4000);
    })
  </script>
</div>
